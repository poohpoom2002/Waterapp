// resources/js/utils/cropData.ts
export interface Crop {
    value: string;
    name: string;
    icon: string;
    description: string;
    category: 'cereal' | 'root' | 'legume' | 'industrial' | 'oilseed';
    irrigationNeeds: 'low' | 'medium' | 'high';
    growthPeriod: number; // days
    waterRequirement: number; // liters per day per plant
    spacing: number; // cm between plants
    yield: number; // kg/‡πÑ‡∏£‡πà
    price: number; // ‡∏ö‡∏≤‡∏ó/kg
    // Added for field-crop-summary calculations
    defaultPlantSpacing?: number; // meters between plants (default for calculations)
    yieldPerPlant?: number; // kg per plant (for yield estimation)
    pricePerKg?: number; // price per kg (for price estimation)
}

export const cropTypes: Crop[] = [
    // Cereals (‡∏ò‡∏±‡∏ç‡∏û‡∏∑‡∏ä)
    {
        value: 'rice',
        name: '‡∏Ç‡πâ‡∏≤‡∏ß (Rice)',
        icon: 'üåæ',
        description: '‡∏û‡∏∑‡∏ä‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡πÑ‡∏ó‡∏¢ ‡∏õ‡∏•‡∏π‡∏Å‡πÉ‡∏ô‡∏ô‡∏≤‡∏Ç‡πâ‡∏≤‡∏ß ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ô‡πâ‡∏≥‡∏°‡∏≤‡∏Å',
        category: 'cereal',
        irrigationNeeds: 'high',
        growthPeriod: 120,
        waterRequirement: 5.0,
        spacing: 20,
        yield: 800,
        price: 15,
        defaultPlantSpacing: 0.2,
        yieldPerPlant: 0.04, // 800kg/rai, ~200,000 plants/rai
        pricePerKg: 15
    },
    {
        value: 'corn',
        name: '‡∏Ç‡πâ‡∏≤‡∏ß‡πÇ‡∏û‡∏î (Corn)',
        icon: 'üåΩ',
        description: '‡∏û‡∏∑‡∏ä‡πÑ‡∏£‡πà‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç ‡∏õ‡∏•‡∏π‡∏Å‡∏á‡πà‡∏≤‡∏¢ ‡πÉ‡∏´‡πâ‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï‡∏™‡∏π‡∏á',
        category: 'cereal',
        irrigationNeeds: 'medium',
        growthPeriod: 75,
        waterRequirement: 3.0,
        spacing: 30,
        yield: 1200,
        price: 8,
        defaultPlantSpacing: 0.3,
        yieldPerPlant: 0.2, // 1200kg/rai, ~6000 plants/rai
        pricePerKg: 8
    },
    {
        value: 'sorghum',
        name: '‡∏Ç‡πâ‡∏≤‡∏ß‡∏ü‡πà‡∏≤‡∏á (Sorghum)',
        icon: 'üåæ',
        description: '‡∏û‡∏∑‡∏ä‡∏ò‡∏±‡∏ç‡∏û‡∏∑‡∏ä‡∏ó‡∏ô‡πÅ‡∏•‡πâ‡∏á ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏´‡πâ‡∏á‡πÅ‡∏•‡πâ‡∏á',
        category: 'cereal',
        irrigationNeeds: 'low',
        growthPeriod: 100,
        waterRequirement: 2.0,
        spacing: 25,
        yield: 600,
        price: 12,
        defaultPlantSpacing: 0.25,
        yieldPerPlant: 0.1,
        pricePerKg: 12
    },

    // Root crops (‡∏û‡∏∑‡∏ä‡∏´‡∏±‡∏ß)
    {
        value: 'cassava',
        name: '‡∏°‡∏±‡∏ô‡∏™‡∏≥‡∏õ‡∏∞‡∏´‡∏•‡∏±‡∏á (Cassava)',
        icon: 'üç†',
        description: '‡∏û‡∏∑‡∏ä‡∏´‡∏±‡∏ß‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç ‡∏ó‡∏ô‡πÅ‡∏•‡πâ‡∏á‡πÑ‡∏î‡πâ‡∏î‡∏µ ‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°',
        category: 'root',
        irrigationNeeds: 'low',
        growthPeriod: 300,
        waterRequirement: 1.5,
        spacing: 80,
        yield: 4000,
        price: 2.5,
        defaultPlantSpacing: 0.8,
        yieldPerPlant: 0.01,
        pricePerKg: 2.5
    },
    {
        value: 'sweet_potato',
        name: '‡∏°‡∏±‡∏ô‡πÄ‡∏ó‡∏® (Sweet Potato)',
        icon: 'üç†',
        description: '‡∏û‡∏∑‡∏ä‡∏´‡∏±‡∏ß‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡πà‡∏≤‡∏ó‡∏≤‡∏á‡πÇ‡∏†‡∏ä‡∏ô‡∏≤‡∏Å‡∏≤‡∏£‡∏™‡∏π‡∏á',
        category: 'root',
        irrigationNeeds: 'medium',
        growthPeriod: 120,
        waterRequirement: 2.2,
        spacing: 40,
        yield: 2500,
        price: 8,
        defaultPlantSpacing: 0.4,
        yieldPerPlant: 0.02,
        pricePerKg: 8
    },

    // Legumes (‡∏û‡∏∑‡∏ä‡∏ï‡∏£‡∏∞‡∏Å‡∏π‡∏•‡∏ñ‡∏±‡πà‡∏ß)
    {
        value: 'soybean',
        name: '‡∏ñ‡∏±‡πà‡∏ß‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á (Soybean)',
        icon: 'ü´ò',
        description: '‡∏û‡∏∑‡∏ä‡πÉ‡∏´‡πâ‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô‡∏™‡∏π‡∏á ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏∏‡∏î‡∏°‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡∏Ç‡∏≠‡∏á‡∏î‡∏¥‡∏ô',
        category: 'legume',
        irrigationNeeds: 'medium',
        growthPeriod: 95,
        waterRequirement: 2.8,
        spacing: 30,
        yield: 350,
        price: 25,
        defaultPlantSpacing: 0.3,
        yieldPerPlant: 0.003,
        pricePerKg: 25
    },
    {
        value: 'mung_bean',
        name: '‡∏ñ‡∏±‡πà‡∏ß‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß (Mung Bean)',
        icon: 'ü´ò',
        description: '‡∏û‡∏∑‡∏ä‡∏û‡∏ß‡∏Å‡∏ñ‡∏±‡πà‡∏ß‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡πÄ‡∏£‡πá‡∏ß ‡∏õ‡∏•‡∏π‡∏Å‡∏´‡∏•‡∏±‡∏á‡∏ô‡∏≤‡∏Ç‡πâ‡∏≤‡∏ß',
        category: 'legume',
        irrigationNeeds: 'low',
        growthPeriod: 60,
        waterRequirement: 1.8,
        spacing: 20,
        yield: 280,
        price: 40,
        defaultPlantSpacing: 0.2,
        yieldPerPlant: 0.002,
        pricePerKg: 40
    },
    {
        value: 'peanut',
        name: '‡∏ñ‡∏±‡πà‡∏ß‡∏•‡∏¥‡∏™‡∏á (Peanut)',
        icon: 'ü•ú',
        description: '‡∏û‡∏∑‡∏ä‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç ‡∏õ‡∏•‡∏π‡∏Å‡πÉ‡∏ô‡∏î‡∏¥‡∏ô‡∏£‡πà‡∏ß‡∏ô‡∏ã‡∏∏‡∏¢',
        category: 'legume',
        irrigationNeeds: 'medium',
        growthPeriod: 110,
        waterRequirement: 2.5,
        spacing: 25,
        yield: 500,
        price: 45,
        defaultPlantSpacing: 0.25,
        yieldPerPlant: 0.004,
        pricePerKg: 45
    },
    {
        value: 'black_gram',
        name: '‡∏ñ‡∏±‡πà‡∏ß‡∏î‡∏≥ (Black Gram)',
        icon: 'ü´ò',
        description: '‡∏û‡∏∑‡∏ä‡∏ï‡∏£‡∏∞‡∏Å‡∏π‡∏•‡∏ñ‡∏±‡πà‡∏ß‡∏ó‡∏µ‡πà‡∏ó‡∏ô‡πÅ‡∏•‡πâ‡∏á ‡∏õ‡∏•‡∏π‡∏Å‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏§‡∏î‡∏π‡πÅ‡∏•‡πâ‡∏á',
        category: 'legume',
        irrigationNeeds: 'low',
        growthPeriod: 70,
        waterRequirement: 1.5,
        spacing: 20,
        yield: 250,
        price: 50,
        defaultPlantSpacing: 0.2,
        yieldPerPlant: 0.003,
        pricePerKg: 50
    },

    // Industrial crops (‡∏û‡∏∑‡∏ä‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°)
    {
        value: 'sugarcane',
        name: '‡∏≠‡πâ‡∏≠‡∏¢ (Sugarcane)',
        icon: 'üéã',
        description: '‡∏û‡∏∑ch‡∏´‡∏•‡∏±‡∏Å‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡πÅ‡∏•‡∏∞‡πÄ‡∏≠‡∏ó‡∏≤‡∏ô‡∏≠‡∏•',
        category: 'industrial',
        irrigationNeeds: 'high',
        growthPeriod: 365,
        waterRequirement: 4.5,
        spacing: 50,
        yield: 15000,
        price: 1,
        defaultPlantSpacing: 0.5,
        yieldPerPlant: 0.04,
        pricePerKg: 1
    },
    {
        value: 'cotton',
        name: '‡∏ù‡πâ‡∏≤‡∏¢ (Cotton)',
        icon: 'üå∏',
        description: '‡∏û‡∏∑‡∏ä‡πÉ‡∏¢‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏≠',
        category: 'industrial',
        irrigationNeeds: 'medium',
        growthPeriod: 160,
        waterRequirement: 3.5,
        spacing: 45,
        yield: 180,
        price: 80,
        defaultPlantSpacing: 0.45,
        yieldPerPlant: 0.001,
        pricePerKg: 80
    },
    {
        value: 'rubber',
        name: '‡∏¢‡∏≤‡∏á‡∏û‡∏≤‡∏£‡∏≤ (Rubber)',
        icon: 'üå≥',
        description: '‡∏û‡∏∑‡∏ä‡∏¢‡∏≤‡∏á‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡πâ‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï‡∏´‡∏•‡∏±‡∏á‡∏õ‡∏•‡∏π‡∏Å 6-7 ‡∏õ‡∏µ',
        category: 'industrial',
        irrigationNeeds: 'medium',
        growthPeriod: 2555, // 7 years
        waterRequirement: 8.0,
        spacing: 300,
        yield: 1800,
        price: 50,
        defaultPlantSpacing: 3.0,
        yieldPerPlant: 0.0007,
        pricePerKg: 50
    },
    {
        value: 'tobacco',
        name: '‡∏¢‡∏≤‡∏™‡∏π‡∏ö (Tobacco)',
        icon: 'üö¨',
        description: '‡∏û‡∏∑‡∏ä‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï‡∏ú‡∏•‡∏¥‡∏ï‡∏†‡∏±‡∏ì‡∏ë‡πå‡∏¢‡∏≤‡∏™‡∏π‡∏ö',
        category: 'industrial',
        irrigationNeeds: 'medium',
        growthPeriod: 90,
        waterRequirement: 2.8,
        spacing: 60,
        yield: 800,
        price: 120,
        defaultPlantSpacing: 0.6,
        yieldPerPlant: 0.008,
        pricePerKg: 120
    },

    // Oil crops (‡∏û‡∏∑‡∏ä‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô)
    {
        value: 'oil_palm',
        name: '‡∏õ‡∏≤‡∏•‡πå‡∏°‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô (Oil Palm)',
        icon: 'üå¥',
        description: '‡∏û‡∏∑‡∏ä‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡πÑ‡∏ó‡∏¢ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡πâ‡∏ú‡∏•‡∏´‡∏•‡∏±‡∏á‡∏õ‡∏•‡∏π‡∏Å 3 ‡∏õ‡∏µ',
        category: 'oilseed',
        irrigationNeeds: 'high',
        growthPeriod: 1095, // 3 years to first harvest
        waterRequirement: 12.0,
        spacing: 900,
        yield: 3500,
        price: 4,
        defaultPlantSpacing: 9.0,
        yieldPerPlant: 0.03,
        pricePerKg: 4
    },
    {
        value: 'sesame',
        name: '‡∏á‡∏≤ (Sesame)',
        icon: 'üå±',
        description: '‡∏û‡∏∑‡∏ä‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÄ‡∏°‡∏•‡πá‡∏î‡πÄ‡∏•‡πá‡∏Å ‡∏ó‡∏ô‡πÅ‡∏•‡πâ‡∏á‡πÑ‡∏î‡πâ‡∏î‡∏µ',
        category: 'oilseed',
        irrigationNeeds: 'low',
        growthPeriod: 85,
        waterRequirement: 1.8,
        spacing: 15,
        yield: 200,
        price: 60,
        defaultPlantSpacing: 0.15,
        yieldPerPlant: 0.002,
        pricePerKg: 60
    },
    {
        value: 'sunflower',
        name: '‡∏ó‡∏≤‡∏ô‡∏ï‡∏∞‡∏ß‡∏±‡∏ô (Sunflower)',
        icon: 'üåª',
        description: '‡∏û‡∏∑‡∏ä‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏î‡∏≠‡∏Å‡πÉ‡∏´‡∏ç‡πà ‡∏ó‡∏ô‡πÅ‡∏•‡πâ‡∏á‡πÅ‡∏•‡∏∞‡πÇ‡∏£‡∏Ñ‡πÑ‡∏î‡πâ‡∏î‡∏µ',
        category: 'oilseed',
        irrigationNeeds: 'low',
        growthPeriod: 85,
        waterRequirement: 2.5,
        spacing: 40,
        yield: 400,
        price: 35,
        defaultPlantSpacing: 0.4,
        yieldPerPlant: 0.004,
        pricePerKg: 35
    },
    {
        value: 'coconut',
        name: '‡∏°‡∏∞‡∏û‡∏£‡πâ‡∏≤‡∏ß (Coconut)',
        icon: 'ü••',
        description: '‡∏û‡∏∑‡∏ä‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏¢‡∏∑‡∏ô‡∏ï‡πâ‡∏ô ‡πÉ‡∏´‡πâ‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï‡∏ï‡∏•‡∏≠‡∏î‡∏õ‡∏µ',
        category: 'oilseed',
        irrigationNeeds: 'medium',
        growthPeriod: 1825, // 5 years
        waterRequirement: 10.0,
        spacing: 800,
        yield: 2000,
        price: 8,
        defaultPlantSpacing: 8.0,
        yieldPerPlant: 0.02,
        pricePerKg: 8
    }
];

// Export CROPS as well for backward compatibility
export const CROPS = cropTypes;

// Helper functions
export const getCropByValue = (value: string): Crop | undefined => {
    return cropTypes.find(crop => crop.value === value);
};

export const searchCrops = (query: string): Crop[] => {
    const searchTerm = query.toLowerCase();
    return cropTypes.filter(crop => 
        crop.name.toLowerCase().includes(searchTerm) ||
        crop.value.toLowerCase().includes(searchTerm) ||
        crop.description.toLowerCase().includes(searchTerm)
    );
};

export const getCropsByCategory = (category: string): Crop[] => {
    if (category === 'all') return cropTypes;
    return cropTypes.filter(crop => crop.category === category);
};

export const getCropsByIrrigationNeed = (need: 'low' | 'medium' | 'high'): Crop[] => {
    return cropTypes.filter(crop => crop.irrigationNeeds === need);
};

export const getPopularCrops = (): Crop[] => {
    const popularValues = ['rice', 'corn', 'cassava', 'sugarcane', 'soybean', 'oil_palm', 'rubber', 'peanut'];
    return popularValues.map(value => getCropByValue(value)).filter(Boolean) as Crop[];
};

// Irrigation calculation helpers
export const calculateWaterRequirement = (crop: Crop, plantCount: number): number => {
    return crop.waterRequirement * plantCount; // liters per day
};

export const calculatePlantSpacing = (crop: Crop, areaSquareMeters: number): number => {
    const spacingSquareMeters = (crop.spacing / 100) ** 2; // Convert cm to m
    return Math.floor(areaSquareMeters / spacingSquareMeters);
};

export const getIrrigationRecommendation = (crop: Crop): string => {
    switch (crop.irrigationNeeds) {
        case 'low':
            return '‡∏£‡∏î‡∏ô‡πâ‡∏≥ 2-3 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ï‡πà‡∏≠‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏î‡∏¥‡∏ô‡πÅ‡∏´‡πâ‡∏á';
        case 'medium':
            return '‡∏£‡∏î‡∏ô‡πâ‡∏≥‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏ß‡∏±‡∏ô‡πÄ‡∏ß‡πâ‡∏ô‡∏ß‡∏±‡∏ô ‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡πÉ‡∏´‡πâ‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠';
        case 'high':
            return '‡∏£‡∏î‡∏ô‡πâ‡∏≥‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô ‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡πÉ‡∏ô‡∏î‡∏¥‡∏ô‡πÉ‡∏´‡πâ‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠';
        default:
            return '‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏ï‡∏≤‡∏°‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏î‡∏ô‡πâ‡∏≥‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô';
    }
};

// Economic calculation helpers
export const calculateRevenue = (crop: Crop, areaInRai: number): number => {
    return crop.yield * crop.price * areaInRai;
};

export const calculateRevenuePerDay = (crop: Crop, areaInRai: number): number => {
    const totalRevenue = calculateRevenue(crop, areaInRai);
    return totalRevenue / crop.growthPeriod;
};

// Category configurations
export const categoryConfigs = [
    { value: 'all', name: '‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î', icon: 'üå±' },
    { value: 'cereal', name: '‡∏ò‡∏±‡∏ç‡∏û‡∏∑‡∏ä', icon: 'üåæ' },
    { value: 'root', name: '‡∏û‡∏∑‡∏ä‡∏´‡∏±‡∏ß', icon: 'üç†' },
    { value: 'legume', name: '‡∏ñ‡∏±‡πà‡∏ß‡∏ï‡πà‡∏≤‡∏á‡πÜ', icon: 'ü´ò' },
    { value: 'industrial', name: '‡∏û‡∏∑‡∏ä‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°', icon: 'üè≠' },
    { value: 'oilseed', name: '‡∏û‡∏∑‡∏ä‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô', icon: 'üåª' },
];

// Export default for easier importing
export default {
    cropTypes,
    CROPS,
    getCropByValue,
    searchCrops,
    getCropsByCategory,
    getCropsByIrrigationNeed,
    getPopularCrops,
    calculateWaterRequirement,
    calculatePlantSpacing,
    getIrrigationRecommendation,
    calculateRevenue,
    calculateRevenuePerDay,
    categoryConfigs
};